{% extends "base.html" %}
{% block content %}
<section class="panel panel-error">
  <h1>Internal Server Error</h1>
  <p class="alert">500 Internal Server Error: An unexpected error occurred.</p>
  
  {% if show_debug and error_message %}
  <details style="margin-top: 1rem; padding: 1rem; background: rgba(220, 53, 69, 0.05); border-radius: 8px; border: 1px solid rgba(220, 53, 69, 0.2);">
    <summary style="cursor: pointer; font-weight: 600; color: var(--danger);">üîç Error details (debug/demo mode only)</summary>
    <pre style="margin-top: 0.75rem; padding: 0.75rem; background: var(--bg-dark); border-radius: 6px; overflow-x: auto; font-size: 0.85rem; color: var(--text-muted);">{{ error_message }}</pre>
  </details>
  <p class="muted" style="margin-top: 1rem; font-size: 0.9rem; color: #856404; background: #fff3cd; padding: 0.75rem; border-radius: 6px; border: 1px solid #ffeaa7;">
    ‚ö†Ô∏è <strong>Security Notice:</strong> Error details are shown because you're in <strong>debug/demo mode</strong>. 
    In production, only generic error messages are displayed to prevent information disclosure.
  </p>
  {% else %}
  <p class="muted" style="margin-top: 1rem; font-size: 0.95rem;">
    The server encountered an unexpected condition. This error has been logged and will be investigated by the system administrators.
  </p>
  <p class="muted" style="margin-top: 0.75rem; font-size: 0.9rem; color: #666;">
    If you continue to experience this issue, please contact support with the following information:
  </p>
  <ul style="margin: 0.75rem 0 0 1.5rem; color: #666; font-size: 0.9rem;">
    <li>Time of error: <code>{{ request.path }}</code> at <code>{{ now() }}</code></li>
    <li>Your correlation ID (check browser console or contact admin)</li>
  </ul>
  {% endif %}
  
  <p style="margin-top: 1.5rem;">
    <a href="{{ url_for('auth.index') }}" class="btn btn-secondary">‚Üê Back to Home</a>
  </p>
</section>
{% endblock %}
