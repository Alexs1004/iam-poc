[pytest]
pythonpath = .
filterwarnings =
    ignore:Use list\(search\(...\)\) instead to explicitly get a list\.:DeprecationWarning:msal.token_cache
    ignore::urllib3.exceptions.InsecureRequestWarning

# Custom markers for test organization
markers =
    integration: End-to-end integration tests requiring Docker stack (deselect with '-m "not integration"')
    critical: Critical security tests (P0 priority)
    e2e: Comprehensive E2E tests following E2E_TEST_PLAN.md
    oidc: OIDC + PKCE + JWT validation tests
    oauth: OAuth 2.0 Bearer Token validation tests (RFC 6750)
    rbac: Role-based access control (UI personas) tests
    scim: SCIM 2.0 API tests (CRUD, pagination, RFC 7644)
    leaver: Session revocation tests (user deactivation)
    nginx: Nginx / TLS / security headers tests
    secrets: Secrets confidentiality tests
    summary: Test coverage summary (informational)
    demo_only: Tests that must run in DEMO_MODE=true (fast, isolated, no Azure dependencies)
    prod_only: Tests that validate production configuration (Azure Key Vault, real secrets)
    dual_mode: Tests that should pass in both DEMO and PROD modes (validates config portability)
